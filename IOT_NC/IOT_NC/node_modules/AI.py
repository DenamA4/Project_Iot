import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import accuracy_score

# Dữ liệu giả lập (góc quay và khoảng cách)
# Nhãn 0: không va chạm, 1: va chạm
data = np.array([
    [10, 200, 0],
    [20, 180, 0],
    [30, 150, 1],
    [40, 120, 1],
    [50, 100, 1],
    [60, 80, 1],
    [70, 60, 0]
])

# Chia thành X (góc quay, khoảng cách) và y (nhãn)
X = data[:, :-1]
y = data[:, -1]

# Chia dữ liệu thành tập huấn luyện và kiểm tra
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Khởi tạo và huấn luyện mô hình cây quyết định
clf = DecisionTreeClassifier()
clf.fit(X_train, y_train)

# Dự đoán trên tập kiểm tra
y_pred = clf.predict(X_test)

# Kiểm tra độ chính xác
accuracy = accuracy_score(y_test, y_pred)
print(f'Accuracy: {accuracy*100:.2f}%')

# Dự đoán với dữ liệu mới (góc quay 45, khoảng cách 110)
new_data = np.array([[45, 110]])
prediction = clf.predict(new_data)
print(f'Prediction for new data (góc 45, khoảng cách 110): {prediction}')
